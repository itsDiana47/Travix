<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Travix ‚Äî Send an Item</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="sendItem.css">
</head>
<body>
  <header class="site-header" role="banner">
    <div class="container header-inner">
      <a class="brand" href="#" aria-label="Travix home">
        <svg class="brand-logo" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2l1.9 4.6L19 8l-4.9 2.8L12 15l-2.1-4.2L5 8l5.1-1.4L12 2z" fill="#e3b73a"/></svg>
        <span class="brand-text">TRAVIX</span>
      </a>

      <nav class="main-nav" aria-label="Main navigation">
        <ul>
          <li><a href="#">Home</a></li>
          <li><a href="#">How it Works</a></li>
          <li><a class="active" href="#">Calculator</a></li>
          <li><a href="#">About</a></li>
          <li><a href="#">Help</a></li>
        </ul>
      </nav>

      <div class="header-actions">
        <a class="link-muted" href="#">Log In</a>
        <a class="btn primary" href="#">Sign Up</a>
      </div>
    </div>
  </header>

  <main class="container" id="main" role="main">
    <h1 class="page-title">Send an Item</h1>
    <p class="page-sub">Fill out the details below to connect with travelers who can deliver your item</p>

    <form id="sendForm" class="form-stack" novalidate>
      <!-- Item Details -->
      <section class="card" aria-labelledby="item-details-heading">
        <div class="card-head">
          <svg class="icon-sm" viewBox="0 0 24 24" aria-hidden="true"><path d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V7H3z" fill="#e3b73a"/></svg>
          <h2 id="item-details-heading">Item Details</h2>
        </div>

        <label for="itemName" class="label">Item Name</label>
        <input id="itemName" name="itemName" type="text" placeholder="e.g., iPhone 15, Wedding Dress, Documents" required>

        <div class="field-row">
          <label class="label">Category <span class="req">*</span></label>
        </div>
        <div id="categories" class="category-grid" role="radiogroup" aria-label="Item category">
          <!-- Each tile is a radio-like button -->
          <button type="button" class="cat-tile" data-value="Electronics">üì±<span>Electronics</span></button>
          <button type="button" class="cat-tile" data-value="Documents">üìÑ<span>Documents</span></button>
          <button type="button" class="cat-tile" data-value="Clothing">üëó<span>Clothing</span></button>
          <button type="button" class="cat-tile" data-value="Gifts">üéÅ<span>Gifts</span></button>
          <button type="button" class="cat-tile" data-value="Food">üç±<span>Food Items</span></button>
          <button type="button" class="cat-tile" data-value="Books">üìö<span>Books</span></button>
          <button type="button" class="cat-tile" data-value="Camera">üé•<span>Camera/Video</span></button>
          <button type="button" class="cat-tile" data-value="Audio">üéß<span>Audio Gear</span></button>
          <button type="button" class="cat-tile" data-value="Accessories">üëú<span>Accessories</span></button>
          <button type="button" class="cat-tile" data-value="Medical">üíä<span>Medical Items</span></button>
        </div>
        <input type="hidden" name="category" id="categoryInput" required aria-required="true">

        <div class="row two-cols">
          <div>
            <label for="weight" class="label">Weight (kg)</label>
            <input id="weight" name="weight" type="number" min="0.1" max="50" step="0.1" placeholder="e.g., 2.5" required>
          </div>
          <div>
            <label for="value" class="label">Estimated Value ($)</label>
            <input id="value" name="value" type="number" min="1" max="100000" step="1" placeholder="e.g., 150" required>
          </div>
        </div>

        <label for="description" class="label">Item Description</label>
        <textarea id="description" name="description" rows="4" placeholder="Provide details about your item (size, color, special handling instructions...)" ></textarea>

        <label class="label">Item Photo</label>
        <div class="upload" data-target="itemPhoto">
          <input id="itemPhoto" name="itemPhoto" type="file" accept="image/png, image/jpeg" aria-describedby="itemPhotoHint">
          <div class="upload-inner">
            <svg class="upload-ico" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 3v9" stroke="#e3b73a" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4" stroke="#e3b73a" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
            <div>
              <strong>Click to upload or drag and drop</strong>
              <div id="itemPhotoHint" class="hint">PNG, JPG up to 10MB</div>
            </div>
          </div>
          <div class="upload-preview" id="itemPhotoPreview" aria-hidden="true"></div>
        </div>

        <div class="form-errors" id="itemErrors" aria-live="polite"></div>
      </section>

      <!-- Delivery Details -->
      <section class="card" aria-labelledby="delivery-heading">
        <div class="card-head">
          <svg class="icon-sm" viewBox="0 0 24 24" aria-hidden="true"><path d="M3 11h18M5 6h0M19 6h0" fill="#e3b73a"/></svg>
          <h2 id="delivery-heading">Delivery Details</h2>
        </div>

        <div class="row two-cols">
          <div>
            <label for="pickupLocation" class="label">Pickup Location</label>
            <input id="pickupLocation" name="pickupLocation" placeholder="City, Country" required>
          </div>
          <div>
            <label for="pickupDate" class="label">Pickup Date</label>
            <input id="pickupDate" name="pickupDate" type="date" required>
          </div>
        </div>

        <div class="row two-cols">
          <div>
            <label for="destination" class="label">Destination</label>
            <input id="destination" name="destination" placeholder="City, Country" required>
          </div>
          <div>
            <label for="preferredDate" class="label">Preferred Delivery Date</label>
            <input id="preferredDate" name="preferredDate" type="date">
          </div>
        </div>

        <div class="row two-cols">
          <div>
            <label for="receiverName" class="label">Receiver Name</label>
            <input id="receiverName" name="receiverName" placeholder="Full name" required>
          </div>
          <div>
            <label for="receiverPhone" class="label">Receiver Phone</label>
            <input id="receiverPhone" name="receiverPhone" placeholder="+1 234 567 8900" required>
          </div>
        </div>

        <label for="deliveryAddress" class="label">Delivery Address</label>
        <textarea id="deliveryAddress" name="deliveryAddress" rows="3" placeholder="Full delivery address with postal code" required></textarea>
      </section>

      <!-- ID Verification -->
      <section class="card" aria-labelledby="id-heading">
        <div class="card-head">
          <svg class="icon-sm" viewBox="0 0 24 24" aria-hidden="true"><path d="M3 7h18v10a2 2 0 01-2 2H5a2 2 0 01-2-2V7z" fill="#e3b73a"/></svg>
          <h2 id="id-heading">ID Verification</h2>
        </div>

        <p class="muted">For security purposes, we require ID verification for all shipments. Your information is encrypted and secure.</p>

        <div class="row two-cols">
          <div class="upload" data-target="idFront">
            <input id="idFront" name="idFront" type="file" accept="image/png, image/jpeg" required aria-describedby="idFrontHint">
            <div class="upload-inner">
              <svg class="upload-ico" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 3v9" stroke="#e3b73a" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
              <div>
                <strong>Upload front of ID</strong>
                <div id="idFrontHint" class="hint">PNG, JPG up to 10MB</div>
              </div>
            </div>
            <div class="upload-preview" id="idFrontPreview" aria-hidden="true"></div>
          </div>

          <div class="upload" data-target="idBack">
            <input id="idBack" name="idBack" type="file" accept="image/png, image/jpeg" required aria-describedby="idBackHint">
            <div class="upload-inner">
              <svg class="upload-ico" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 3v9" stroke="#e3b73a" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
              <div>
                <strong>Upload back of ID</strong>
                <div id="idBackHint" class="hint">PNG, JPG up to 10MB</div>
              </div>
            </div>
            <div class="upload-preview" id="idBackPreview" aria-hidden="true"></div>
          </div>
        </div>

        <div class="upload" data-target="selfie">
          <input id="selfie" name="selfie" type="file" accept="image/png, image/jpeg" aria-describedby="selfieHint">
          <div class="upload-inner">
            <svg class="upload-ico" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 3v9" stroke="#e3b73a" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
            <div>
              <strong>Upload a selfie (optional)</strong>
              <div id="selfieHint" class="hint">Optional ‚Äî helps with enhanced verification</div>
            </div>
          </div>
          <div class="upload-preview" id="selfiePreview" aria-hidden="true"></div>
        </div>
      </section>

      <!-- Terms -->
      <section class="card terms-card">
        <label class="checkbox">
          <input id="agree" name="agree" type="checkbox" required>
          <span>I agree to the <a href="#" target="_blank" rel="noopener">Terms of Service</a> and <a href="#" target="_blank" rel="noopener">Privacy Policy</a></span>
        </label>

        <p class="muted small">I confirm that this shipment does not contain prohibited items (weapons, drugs, hazardous materials, etc.) and I authorize Travix to verify my identity.</p>

        <div class="form-actions">
          <button type="button" class="btn outline" id="cancelBtn">Cancel</button>
          <button type="submit" class="btn primary" id="submitBtn" disabled>Submit Request</button>
        </div>

        <div class="form-errors" id="formErrors" aria-live="assertive"></div>
      </section>
    </form>
  </main>

  <footer class="site-footer" role="contentinfo">
    <div class="container footer-inner">
      <div class="footer-grid">
        <div>
          <div class="brand-row">
            <svg class="brand-logo" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2l1.9 4.6L19 8l-4.9 2.8L12 15l-2.1-4.2L5 8l5.1-1.4L12 2z" fill="#e3b73a"/></svg>
            <span class="brand-text light">TRAVIX</span>
          </div>
          <p class="muted">Connecting senders with travelers for affordable, secure deliveries worldwide.</p>
        </div>

        <nav>
          <h4>Quick Links</h4>
          <ul>
            <li><a href="#">Home</a></li>
            <li><a href="#">How it Works</a></li>
            <li><a href="#">Send Items</a></li>
            <li><a href="#">Become a Traveler</a></li>
            <li><a href="#">Price Calculator</a></li>
          </ul>
        </nav>

        <nav>
          <h4>Support</h4>
          <ul>
            <li><a href="#">Help Center</a></li>
            <li><a href="#">About Us</a></li>
            <li><a href="#">Privacy Policy</a></li>
            <li><a href="#">Terms of Service</a></li>
            <li><a href="#">Safety Guidelines</a></li>
          </ul>
        </nav>

        <div>
          <h4>Contact Us</h4>
          <div class="contact-item"><span class="icon">‚úâÔ∏è</span><a href="mailto:support@travix.com">support@travix.com</a></div>
          <div class="contact-item"><span class="icon">üìû</span><a href="tel:+15551234567">+1 (555) 123-4567</a></div>
          <div class="contact-item"><span class="icon">üìç</span><address>123 Travel Street<br>New York, NY 10001</address></div>
        </div>
      </div>

      <hr class="sep">

      <div class="footer-bottom">
        <p class="tiny">¬© 2025 Travix. All rights reserved.</p>
        <div class="tiny links">
          <a href="#">Cookie Policy</a>
          <a href="#">Security</a>
          <a href="#">Sitemap</a>
        </div>
      </div>
    </div>
  </footer>

  <script>
    // Interactivity & validation
    (function(){
      const form = document.getElementById('sendForm');
      const submitBtn = document.getElementById('submitBtn');
      const cancelBtn = document.getElementById('cancelBtn');
      const agree = document.getElementById('agree');
      const categoryInput = document.getElementById('categoryInput');
      const categoryTiles = document.querySelectorAll('.cat-tile');
      const uploads = document.querySelectorAll('.upload input[type="file"]');
      const previews = {
        itemPhoto: document.getElementById('itemPhotoPreview'),
        idFront: document.getElementById('idFrontPreview'),
        idBack: document.getElementById('idBackPreview'),
        selfie: document.getElementById('selfiePreview')
      };
      const requiredFileIds = ['idFront','idBack'];

      // Category selection (keyboard accessible)
      categoryTiles.forEach(tile => {
        tile.setAttribute('role','radio');
        tile.tabIndex = 0;
        tile.addEventListener('click', () => selectCategory(tile));
        tile.addEventListener('keydown', (e) => {
          if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); selectCategory(tile); }
        });
      });

      function selectCategory(tile){
        categoryTiles.forEach(t => t.classList.remove('selected'));
        tile.classList.add('selected');
        categoryInput.value = tile.dataset.value;
        categoryInput.dispatchEvent(new Event('change', { bubbles: true }));
      }

      // File previews & simple size check (10MB)
      uploads.forEach(inp => {
        inp.addEventListener('change', (e) => {
          const file = e.target.files[0];
          const target = e.target.id;
          const previewEl = previews[target];
          previewEl.innerHTML = '';
          previewEl.style.display = 'none';
          if(!file) return;
          if(file.size > 10 * 1024 * 1024){
            previewEl.innerHTML = '<div class="file-error">File too large (max 10MB)</div>';
            previewEl.style.display = 'block';
            e.target.value = '';
            return;
          }
          if(file.type.startsWith('image/')){
            const img = document.createElement('img');
            img.alt = e.target.name + ' preview';
            img.src = URL.createObjectURL(file);
            img.onload = () => URL.revokeObjectURL(img.src);
            previewEl.appendChild(img);
            previewEl.style.display = 'block';
          } else {
            previewEl.innerHTML = '<div class="file-name">' + file.name + '</div>';
            previewEl.style.display = 'block';
          }
          validateForm();
        });

        // Drag & drop support
        const wrapper = inp.closest('.upload');
        if(wrapper){
          wrapper.addEventListener('dragover', (ev)=>{ ev.preventDefault(); wrapper.classList.add('dragover'); });
          wrapper.addEventListener('dragleave', ()=> wrapper.classList.remove('dragover'));
          wrapper.addEventListener('drop', (ev)=> {
            ev.preventDefault(); wrapper.classList.remove('dragover');
            const dt = ev.dataTransfer;
            if(dt && dt.files && dt.files.length){
              inp.files = dt.files;
              inp.dispatchEvent(new Event('change'));
            }
          });
        }
      });

      // Basic validity checks
      function validateForm(){
        const errors = [];
        // required fields
        const requiredFields = [
          'itemName','categoryInput','weight','value',
          'pickupLocation','pickupDate','destination','receiverName','receiverPhone','deliveryAddress','idFront','idBack'
        ];
        requiredFields.forEach(id => {
          const el = document.getElementById(id);
          if(!el) return;
          if(el.type === 'hidden'){
            if(!el.value) errors.push('Please select a category.');
          } else if(el.type === 'file'){
            if(requiredFileIds.includes(id) && (!el.files || el.files.length === 0)){
              errors.push('Please upload required identification files.');
            }
          } else if(!el.value){
            errors.push('Please complete all required fields.');
          }
        });

        // extra checks: weight and value ranges
        const weight = parseFloat(document.getElementById('weight').value || 0);
        if(isNaN(weight) || weight <= 0 || weight > 50) errors.push('Weight must be between 0.1 and 50 kg.');
        const value = parseFloat(document.getElementById('value').value || 0);
        if(isNaN(value) || value <= 0) errors.push('Estimated value must be greater than 0.');

        // terms
        if(!agree.checked) errors.push('You must agree to the Terms of Service and Privacy Policy.');

        // show/hide errors
        const formErrors = document.getElementById('formErrors');
        formErrors.innerHTML = '';
        if(errors.length){
          submitBtn.disabled = true;
          const ul = document.createElement('ul');
          errors.slice(0,5).forEach(msg => {
            const li = document.createElement('li'); li.textContent = msg; ul.appendChild(li);
          });
          formErrors.appendChild(ul);
          return false;
        } else {
          formErrors.innerHTML = '';
          submitBtn.disabled = false;
          return true;
        }
      }

      // Run validate on input changes
      form.addEventListener('input', validateForm);
      agree.addEventListener('change', validateForm);
      categoryInput.addEventListener('change', validateForm);

      // Cancel action
      cancelBtn.addEventListener('click', (e) => {
        if(confirm('Discard changes and return?')) form.reset();
        // clear previews
        Object.values(previews).forEach(p => { p.innerHTML = ''; p.style.display = 'none'; });
        // clear category selection
        categoryTiles.forEach(t => t.classList.remove('selected'));
        categoryInput.value = '';
        validateForm();
      });

      // Submission handling
      form.addEventListener('submit', (e) => {
        e.preventDefault();
        if(!validateForm()){
          document.getElementById('formErrors').focus();
          return;
        }
        // Build FormData to be sent to server (placeholder)
        const fd = new FormData(form);
        // For demo, we just show a success message
        submitBtn.disabled = true;
        submitBtn.textContent = 'Submitting...';
        setTimeout(() => {
          alert('Request submitted (demo). The form data would be sent to your server API.');
          submitBtn.textContent = 'Submit Request';
          submitBtn.disabled = false;
          form.reset();
          Object.values(previews).forEach(p => { p.innerHTML = ''; p.style.display = 'none'; });
          categoryTiles.forEach(t => t.classList.remove('selected'));
          categoryInput.value = '';
        }, 900);
      });

      // initial validate
      validateForm();
    })();
  </script>
</body>
</html>